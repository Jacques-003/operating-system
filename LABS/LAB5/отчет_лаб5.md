**РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ**

**Факультет физико-математических и естественных наук**

**Кафедра прикладной информатики и теории вероятностей**





**ОТЧЕТ** 

**ПО ЛАБОРАТОРНОЙ РАБОТЕ № 5**	

*дисциплина:	Операционные системы*	 









Студент: Ниемек Яи Жак                                    

`	`Группа: НММБд-04-24                                       







**МОСКВА**

2025	 г.

Цель работы

Выполнение лабораторной работы

**Менеджер паролей pass**

Установка

- Fedora
  - pass
  - dnf install pass pass-otp
    - gopass
    - dnf install gopass

Настройка

1. Ключи GPG
   1. Просмотр списка ключей:
   1. gpg --list-secret-keys
   1. Если ключа нет, нужно создать новый:
   1. gpg --full-generate-key
1. Инициализация хранилища
   1. Инициализируем хранилище:
   1. pass init <gpg-id or email>
1. Синхронизация с git
   1. Создадим структуру git:
   1. pass git init
   1. Также можно задать адрес репозитория на хостинге (репозиторий необходимо предварительно создать):
   1. pass git remote add origin git@github.com:<git\_username>/<git\_repo>.git
   1. Для синхронизации выполняется следующая команда:
   1. pass git pull
   1. pass git push
   1. Прямые изменения
      1. Следует заметить, что отслеживаются только изменения, сделанные через сам gopass (или pass).
      1. Если изменения сделаны непосредственно на файловой системе, необходимо вручную закоммитить и выложить изменения:
      1. cd ~/.password-store/
      1. git add .
      1. git commit -am 'edit manually'
      1. git push
      1. Проверить статус синхронизации модно командой
      1. pass git status

Настройка интерфейса с броузером

- Для взаимодействия с броузером используется интерфейс *native messaging*.
- Поэтому кроме плагина к броузеру устанавливается программа, обеспечивающая интерфейс *native messaging*.
1. Плагин [browserpass](https://github.com/browserpass/browserpass-extension)
   1. Репозиторий: <https://github.com/browserpass/browserpass-extension>
   1. Плагин для брoузера
      1. Плагин для Firefox: <https://addons.mozilla.org/en-US/firefox/addon/browserpass-ce/>.
      1. Плагин для Chrome/Chromium: <https://chrome.google.com/webstore/detail/browserpass-ce/naepdomgkenhinolocfifgehidddafch>.
   1. Интерфейс для взаимодействия с броузером (native messaging)
      1. Репозиторий: <https://github.com/browserpass/browserpass-native>
      1. Gentoo:
      1. emerge www-plugins/browserpass
      1. Fedora
      1. dnf copr enable maximbaz/browserpass
      1. dnf install browserpass

Сохранение пароля

1. Добавить новый пароль
   1. Выполните:
   1. pass insert [OPTIONAL DIR]/[FILENAME]
      1. OPTIONAL DIR: необязательное имя каталога, определяющее файловую структуру для вашего хранилища паролей;
      1. FILENAME: имя файла, который будет использоваться для хранения пароля.
   1. Отобразите пароль для указанного имени файла:
   1. pass [OPTIONAL DIR]/[FILENAME]
   1. Замените существующий пароль:
   1. pass generate --in-place FILENAME

**Управление файлами конфигурации**

**Дополнительное программное обеспечение**

- Установите дополнительное программное обеспечение:
- sudo dnf -y install \
- `         `dunst \
- `         `fontawesome-fonts \
- `         `powerline-fonts \
- `         `light \
- `         `fuzzel \
- `         `swaylock \
- `         `kitty \
- `         `waybar swaybg \
- `         `wl-clipboard \
- `         `mpv \
- `         `grim \
- `         `slurp
- Установите шрифты:
- sudo dnf copr enable peterwu/iosevka
- sudo dnf search iosevka
- sudo dnf install iosevka-fonts iosevka-aile-fonts iosevka-curly-fonts iosevka-slab-fonts iosevka-etoile-fonts iosevka-term-fonts

Установка

- Установка бинарного файла. Скрипт определяет архитектуру процессора и операционную систему и скачивает необходимый файл:
  - с помощью wget:
  - sh -c "$(wget -qO- chezmoi.io/get)"

Создание собственного репозитория с помощью утилит

- Будем использовать утилиты командной строки для работы с github.
- Создадим свой репозиторий для конфигурационных файлов на основе шаблона:
- gh repo create dotfiles --template="yamadharma/dotfiles-template" --private

Подключение репозитория к своей системе

- Инициализируйте chezmoi с вашим репозиторием dotfiles:
- chezmoi init git@github.com:<username>/dotfiles.git
- Проверьте, какие изменения внесёт chezmoi в домашний каталог, запустив:
- chezmoi diff
- Если вас устраивают изменения, внесённые chezmoi, запустите:
- chezmoi apply -v

Использование chezmoi на нескольких машинах

- На второй машине инициализируйте chezmoi с вашим репозиторием dotfiles:
- chezmoi init https://github.com/<username>/dotfiles.git
- Или через ssh:
- chezmoi init git@github.com:<username>/dotfiles.git
- Проверьте, какие изменения внесёт chezmoi в домашний каталог, запустив:
- chezmoi diff
- Если вас устраивают изменения, внесённые chezmoi, запустите:
- chezmoi apply -v
- Если вас не устраивают изменения в файле, отредактируйте его с помощью:
- chezmoi edit file\_name
- Также можно вызвать инструмент слияния, чтобы объединить изменения между текущим содержимым файла, файлом в вашей рабочей копии и измененным содержимым файла:
- chezmoi merge file\_name
- При существующем каталоге chezmoi можно получить и применить последние изменения из вашего репозитория:
- chezmoi update -v

Настройка новой машины с помощью одной команды

- Можно установить свои dotfiles на новый компьютер с помощью одной команды:
- chezmoi init --apply https://github.com/<username>/dotfiles.git
- Через ssh:
- chezmoi init --apply git@github.com:<username>/dotfiles.git

Ежедневные операции c chezmoi

1. Извлеките последние изменения из репозитория и примените их
   1. Можно извлечь изменения из репозитория и применить их одной командой:
   1. chezmoi update
   1. Это запускается git pull --autostash --rebase в вашем исходном каталоге, а затем chezmoi apply.
1. Извлеките последние изменения из своего репозитория и посмотрите, что изменится, фактически не применяя изменения
   1. Выполните:
   1. chezmoi git pull -- --autostash --rebase && chezmoi diff
   1. Это запускается git pull --autostash --rebase в вашем исходном каталоге, а chezmoi diff затем показывает разницу между целевым состоянием, вычисленным из вашего исходного каталога, и фактическим состоянием.
   1. Если вы довольны изменениями, вы можете применить их:
   1. chezmoi apply
1. Автоматически фиксируйте и отправляйте изменения в репозиторий
   1. Можно автоматически фиксировать и отправлять изменения в исходный каталог в репозиторий.
   1. Эта функция отключена по умолчанию.
   1. Чтобы включить её, добавьте в файл конфигурации ~/.config/chezmoi/chezmoi.toml следующее:
   1. [git]
   1. `    `autoCommit = true
   1. `    `autoPush = true
   1. Всякий раз, когда в исходный каталог вносятся изменения, chezmoi фиксирует изменения с помощью автоматически сгенерированного сообщения фиксации и отправляет их в ваш репозиторий.
   1. Будьте осторожны при использовании autoPush. Если ваш репозиторий dotfiles является общедоступным, и вы случайно добавили секрет в виде обычного текста, этот секрет будет отправлен в ваш общедоступный репозиторий.

![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.001.png "01")







![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.002.png "1")






![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.003.png "02")













`	`![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.004.png "2")






![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.005.png "5")


















`	`![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.006.png "6")



`	`![](Aspose.Words.7cc28c47-8d02-4059-b2a4-a11162725451.007.png "7")
